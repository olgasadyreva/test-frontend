{"version":3,"sources":["components/Header/Header.js","Validation.js","reducers/index.js","store.js","actions/index.js","components/User/User.js","components/FormAuth/FormAuth.js","components/Home/Home.js","components/FormRegistr/FormRegistr.js","components/FormEdit/FormEdit.js","components/MyAccount/MyAccount.js","App.js","reportWebVitals.js","index.js"],"names":["headerElement","validateFields","username","validator","isEmpty","isLength","min","email","isEmail","password","repeatpassword","users","state","action","type","id","payload","console","log","initialState","localStorage","getItem","JSON","parse","store","createStore","reducer","subscribe","setItem","stringify","getState","auth","isAuth","registr","user","editUser","newState","props","className","value","validateOnChange","error","submitCalled","allFieldsValidated","FormAuth","handleFocusInput","e","target","removeAttribute","validationFunc","evt","field","name","this","setState","fieldVal","preventDefault","emailError","validateEmail","passwordError","validatePassword","every","filter","el","dir","length","alert","currentUser","dispatch","window","location","assign","showAllFieldsValidated","formname","titleLink","setTimeout","Form","method","onSubmit","handleSubmit","htmlFor","placeholder","onChange","handleChange","onBlur","handleBlur","onFocus","message","readOnly","onClick","submitForm","onMouseDown","Object","values","map","User","onBtnEditUsersClick","React","Component","Home","isRegistr","FormRegistr","usernameError","validateUsername","repeatpasswordError","validaterepeatPassword","Math","random","toString","onBtnEditUserClick","connect","FormEdit","pathname","slice","currentStore","formElement","document","forms","edit","elements","currentState","newUsers","myAccount","editData","openModal","currentLocalStorage","href","App","formName","local","Header","to","exact","path","component","MyAccount","newUser","oldUser","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ee574fe9.chunk.js","sourcesContent":["import React from 'react';\r\n//import { Button } from 'reactstrap';\r\n\r\nconst headerElement = () => {\r\n    return (\r\n        <h1>SPA - Регистрация (авторизация) пользователей</h1>\r\n    )\r\n}\r\n\r\nexport default headerElement;","import validator from 'validator';\r\n\r\n/*\r\n * This class contains methods for validating fields using 'validator.js' library methods\r\n * The methods return error message if validation failed and false otherwise\r\n * You can use all supported validators and sanitizers of 'validator.js' libaray\r\n * See their docs here https://github.com/validatorjs/validator.js\r\n */\r\n\r\nclass ValidateFields {\r\n  /*\r\n   * A method that takes in the email\r\n   * Validates it\r\n   * Returns the response either error or false if there is no error\r\n   */\r\n  validateUsername(username) {\r\n    if (validator.isEmpty(username)) {\r\n      return 'Username is required';\r\n    } else if (!validator.isLength(username, { min: 3 })) {\r\n      return 'Username should be minimum 3 characters';\r\n    }\r\n    return false;\r\n  }\r\n\r\n   validateEmail(email) {\r\n    if (validator.isEmpty(email)) {\r\n      return 'Email is required';\r\n    } else if (!validator.isEmail(email)) {\r\n      return 'Invalid Email';\r\n    }\r\n    return false;\r\n  }\r\n\r\n  validatePassword(password) {\r\n    if (validator.isEmpty(password)) {\r\n      return 'Password is required';\r\n    } else if (!validator.isLength(password, { min: 3 })) {\r\n      return 'Password should be minimum 8 characters';\r\n    }\r\n    return false;\r\n  }\r\n\r\n  validaterepeatPassword(repeatpassword, password) {\r\n    if (validator.isEmpty(repeatpassword)) {\r\n      return 'Repeat password is required';\r\n    } else if (!validator.isLength(repeatpassword, { min: 3 })) {\r\n      return 'Password should be minimum 8 characters';\r\n    }else if (password !== repeatpassword) {\r\n      return 'Passwords do not match';\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nconst validateFields = new ValidateFields();\r\n\r\n// export the class instance, so we can import and use it anywhere\r\nexport { validateFields };","/* const initialState = {\r\n    users: [],\r\n    //isAuth: false,\r\n    //isRegistr: false\r\n} */\r\n\r\nconst users = (state = [], action) => {\r\n  switch (action.type) {\r\n//const reducer = (state = initialState, action) => {\r\n    //switch (action.type) {\r\n        case ('AUTH'):\r\n            return {\r\n                ...state,\r\n                //isAuth: action.payload,\r\n            }\r\n\r\n        case ('REGISTR'):\r\n              return [\r\n                ...state,\r\n                {\r\n                  id: action.payload.id,\r\n                  username: action.payload.username,\r\n                  email: action.payload.email,\r\n                  password: action.payload.password\r\n                }\r\n              ];\r\n        \r\n        case 'EDIT USER':\r\n         \r\n          console.log(action.payload);\r\n          debugger;\r\n          return action.payload;\r\n            \r\n         // console.log(action.payload);\r\n         // const editUser = action.payload.id;\r\n          //console.dir(Object.values(state));\r\n          //const editUser = Object.values(state).filter(user => user.id === action.payload['id']);\r\n         // const currentStore = action.payload.state;\r\n          \r\n            //return Object.values(state).filter(user => user.id === action.payload['id']);\r\n\r\n            // заменяемый объект\r\n/* const newObject = {\r\n  id: 7;\r\n  key: 'value';\r\n}; */\r\n// исходный массив\r\n//const objectList = getList();\r\n\r\n// результирующй массив\r\n/* const newList = objectList.map(o => {\r\n  if (o.id === newObject.id) {\r\n    return newObject;\r\n  }\r\n  return o;\r\n}); */\r\n            \r\n            //...state,\r\n            /* {\r\n              id: action.payload.id,\r\n              username: action.payload.username,\r\n              email: action.payload.email,\r\n              password: action.payload.password\r\n            } */\r\n          \r\n             // return state.filter(user => user.id === action.payload.id);\r\n\r\n        // case ('REGISTR'):\r\n         //console.dir(action.payload);\r\n         // const previousState = state;\r\n         // console.log(previousState);\r\n\r\n         // const newUser = action.username ? {user: action.username} : {}\r\n           // const newEmail = action.email ? {email: action.email} : {}\r\n            //const newPassword = action.password ? {password: action.password} : {}\r\n            /* return Object.assign({}, state, {\r\n              users: action.payload\r\n            }); */\r\n\r\n          /*return {\r\n                ...state, */\r\n                \r\n               /*  {\r\n                  id: action.payload.id,\r\n                  action.payload.username['value'],\r\n                  action.payload.email['value'],\r\n                  action.payload.password['value']\r\n                } */\r\n                  //...previousState,\r\n                  /* id: action.payload.id,\r\n                  action.payload.username['value'],\r\n                  action.payload.email['value'],\r\n                  action.payload.password['value']\r\n                } */\r\n              //}\r\n          //  }\r\n        \r\n        \r\n// }\r\n\r\n        /* case ('EDIT'):\r\n          return {\r\n              ...state,\r\n              users: action.payload,\r\n          } */\r\n          \r\n        /* case ('EDIT USER'):\r\n          return state.filter(comment => comment.id !== action.payload.id); \r\n           \r\n\r\n            return {\r\n                ...state,\r\n               users: state.map(user => {\r\n                  if(user.id === action.payload) {\r\n                    return {\r\n                      user\r\n                      //likes: action.payload.likes,\r\n                    }\r\n                  }\r\n                  return user;\r\n                })\r\n              }; */\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default users;","import { createStore } from 'redux';\r\nimport reducer from './reducers';\r\n\r\nconst initialState = localStorage.getItem('users') ? JSON.parse(localStorage.getItem('users')) : [];\r\nconst store = createStore(reducer, initialState);\r\n\r\nstore.subscribe(() => {\r\n    localStorage.setItem('users', JSON.stringify(store.getState()));\r\n\r\n  });\r\n\r\nexport default store;","export const auth = (isAuth) => {\r\n  return {\r\n      type: 'AUTH',\r\n      payload: isAuth\r\n  }\r\n}\r\n\r\nexport const registr = (user) => {\r\n  return {\r\n      type: 'REGISTR',\r\n      //payload: isRegistr,\r\n      payload: user,\r\n  }\r\n}\r\n\r\nexport const editUser = (newState) => {\r\n  return {\r\n      type: 'EDIT USER',\r\n      payload: newState\r\n      //payload: id\r\n  }\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\n//import '../css/comment.css';\r\n\r\nconst user = (props) => {\r\n  const {id, username, email, password } = props;\r\n\r\n  return(\r\n    <li className=\"user-item\" key={id} >\r\n      <span className=\"name\">{username}</span>\r\n      <span className=\"text\">{email}</span>\r\n      <span className=\"datetime\">{password}</span>\r\n    </li>\r\n)\r\n\r\n}\r\n\r\nexport default user;","import React from 'react';\r\nimport { Form } from 'reactstrap';\r\nimport { validateFields } from '../../Validation';\r\nimport { connect } from 'react-redux';\r\nimport store from '../../store';\r\nimport { auth, registr, editUser } from '../../actions';\r\nimport User from '../User/User';\r\n\r\nconst initialState = {\r\n  email: {\r\n    value: '',\r\n    validateOnChange: false,\r\n    error: ''\r\n  },\r\n  password: {\r\n    value: '',\r\n    validateOnChange: false,\r\n    error: ''\r\n  },\r\n \r\n  submitCalled: false,\r\n  allFieldsValidated: false,\r\n  //isAuth: this.props.isAuth\r\n};\r\n\r\nclass FormAuth extends React.Component {\r\n  constructor(props) {\r\n      super(props);\r\n      this.state = initialState;\r\n  }\r\n\r\n     /* handleUserInput = (e) => {\r\n  const name = e.target.name;\r\n  const value = e.target.value;\r\n  this.setState({[name]: value});\r\n} */\r\n\r\n  handleFocusInput = (e) => {\r\n    //alert(e.target);\r\n    e.target.removeAttribute('readonly');\r\n  }\r\n/*\r\n * validates the field onBlur if sumbit button is not clicked\r\n * set the validateOnChange to true for that field\r\n * check for error\r\n */\r\n\r\nhandleBlur(validationFunc, evt) {\r\n  const field = evt.target.name;\r\n  // validate onBlur only when validateOnChange for that field is false\r\n  // because if validateOnChange is already true there is no need to validate onBlur\r\n  if (\r\n    this.state[field]['validateOnChange'] === false &&\r\n    this.state.submitCalled === false\r\n  ) {\r\n    this.setState(state => ({\r\n      [field]: {\r\n        ...state[field],\r\n        validateOnChange: true,\r\n        error: validationFunc(state[field].value)\r\n      }\r\n    }));\r\n  }\r\n  return;\r\n}\r\n\r\n/*\r\n * update the value in state for that field\r\n * check for error if validateOnChange is true\r\n */\r\nhandleChange(validationFunc, evt) {\r\n  const field = evt.target.name;\r\n  const fieldVal = evt.target.value;\r\n  this.setState(state => ({\r\n    [field]: {\r\n      ...state[field],\r\n      value: fieldVal,\r\n      error: state[field]['validateOnChange'] ? validationFunc(fieldVal) : ''\r\n    }\r\n  }));\r\n}\r\n\r\nhandleSubmit(evt) {\r\n  evt.preventDefault();\r\n  \r\n/*\r\n* validate all fields\r\n* check if all fields are valid if yes then submit the Form\r\n* otherwise set errors for the feilds in the state\r\n*/\r\n\r\nconst { email, password } = this.state;\r\nconst emailError = validateFields.validateEmail(email.value);\r\nconst passwordError = validateFields.validatePassword(password.value);\r\n\r\nif ([emailError, passwordError].every(e => e === false)) {\r\n  // no errors submit the form\r\n  //alert(Object.values(JSON.parse(localStorage.getItem('users'))).length);\r\n  const currentStore = store.getState();\r\n  const user = currentStore.filter(el => el.email === email.value);\r\n  //alert(user[0]['id']);\r\n  //const currentLocalStorage = Object.values(JSON.parse(localStorage.getItem('users')));\r\n  \r\n  //console.dir(currentLocalStorage.length);\r\n  \r\n  //Проверяем, арегистрирован ли такой email\r\n   // const user = currentLocalStorage.filter((el) =>  { console.dir(el); return el['email'] === email.value});\r\n    \r\n    //const user = currentLocalStorage.filter(el =>el[2]['email'] === email.value); \r\n\r\n    console.dir(user);\r\n    console.dir(typeof(user));\r\n    console.log(user.length);\r\n    \r\n    if(user.length !== 0) {\r\n      \r\n      alert('user exist');\r\n       //Сохраняем введенные в форму данные\r\n      const id = user[0]['id'];\r\n      console.dir(id);\r\n      \r\n      const currentUser = {\r\n      id: id,\r\n      email: email.value,\r\n      password: password.value\r\n      };\r\n      console.dir(currentUser);\r\n      store.dispatch(auth(currentUser));\r\n      \r\n      window.location.assign(`/MyAccount/${currentUser.id}`);\r\n      //this.setState({isAuth: true});\r\n    }\r\n    else {\r\n      alert('new user');\r\n    }\r\n    \r\n    //alert(user);\r\n   // const user = currentStore.filter(el => el.email === email.value);\r\n   // alert(user[0]['id']);\r\n\r\n \r\n\r\n  \r\n  \r\n     /*  const user = currentLocalStorage.every(el =>  { return el['email'] === id});\r\n    const user = currentStore.filter(el => el.email === email.value);\r\n    alert(user[0]['id']); */\r\n\r\n    //store.dispatch(auth(currentUser));\r\n    //localStorage.setItem('users', JSON.stringify(currentUser));\r\n\r\n   // clear state and show all fields are validated\r\n   this.setState({ ...initialState, allFieldsValidated: true });\r\n   this.showAllFieldsValidated();\r\n\r\n // window.location.href = `/MyAccount/${id}`;\r\n} else {\r\n // update the state with errors\r\n    this.setState(state => ({\r\n      formname: 'edit',\r\n      titleLink: 'Авторизация',\r\n\r\n      email: {\r\n        ...state.email,\r\n        validateOnChange: true,\r\n        error: emailError\r\n      },\r\n      password: {\r\n        ...state.password,\r\n        validateOnChange: true,\r\n        error: passwordError\r\n      }\r\n    }));\r\n  }\r\n\r\n}//end handlSubmit\r\n\r\nshowAllFieldsValidated() {\r\n  setTimeout(() => {\r\n    this.setState({ allFieldsValidated: false });\r\n  }, 1500);\r\n}\r\n\r\nrender () {\r\n\r\n  //const local = localStorage.getItem('users');\r\n  //if(local && JSON.parse(local.length !== 0)) {\r\n\r\n   let users= JSON.parse(localStorage.getItem('users'));\r\n    const { email, password, allFieldsValidated } = this.state;\r\n\r\n    \r\n\r\n    return (\r\n      <div className=\"wrap\">\r\n        <h3>Форма авторизации</h3>\r\n\r\n        <h2>{store.getState().length}</h2>\r\n\r\n        <Form method='get' formname=\"auth\"\r\n          className='container col-lg-6 mt-5 border border-dark rounded p-3 js-form' \r\n          onSubmit={e => this.handleSubmit(e)}>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"inputEmail\">Email address</label>\r\n          <input\r\n            type='email'\r\n            name='email'\r\n            className='form-control'\r\n            placeholder='Введите ваш Email'\r\n            id='inputEmail'\r\n            value={email.value}\r\n            //onChange={this.handleUserInput}\r\n            onChange={evt =>\r\n              this.handleChange(validateFields.validateEmail, evt)\r\n            }\r\n            onBlur={evt =>\r\n              this.handleBlur(validateFields.validateEmail, evt)\r\n            }\r\n\r\n            onFocus={this.handleFocusInput}\r\n            message={this.state.message}\r\n            readOnly='readonly'/>\r\n\r\n            <div className='text-danger'>{email.error}</div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"inputPassword\">Password</label>\r\n          <input\r\n            type='password'\r\n            name='password'\r\n            className='form-control'\r\n            placeholder='Введите ваш пароль'\r\n            id='inputPassword'\r\n            value={password.value}\r\n            onChange={evt =>\r\n              this.handleChange(validateFields.validatePassword, evt)\r\n            }\r\n            onBlur={evt =>\r\n              this.handleBlur(validateFields.validatePassword, evt)\r\n            }/>\r\n\r\n          <div className='text-danger'>{password.error}</div>\r\n        </div>\r\n\r\n        <button\r\n          type='submit'\r\n          name='auth'\r\n          className='btn btn-secondary btn-block'\r\n          onClick={this.submitForm}\r\n          onMouseDown={() => this.setState({ submitCalled: true })}>\r\n            Войти\r\n        </button>\r\n      </Form>\r\n\r\n        <div className=\"card-body\">\r\n          {allFieldsValidated && (\r\n            <p className=\"text-success text-center\">\r\n              Success, All fields are validated\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        <hr/>\r\n\r\n       { users && users.length !== 0 ? \r\n          <ul className=\"users-list\">\r\n            {\r\n              Object.values(users).map((user) => {\r\n\r\n                return (\r\n\r\n                  <User\r\n                    key = {user.id}\r\n                    id = {user.id}\r\n                    username = {user.username}\r\n                    email = {user.email}\r\n                    password= {user.password}\r\n                    onBtnEditUsersClick = { () => this.props.editUser(user)}\r\n                  />\r\n                )\r\n              })\r\n            }\r\n        </ul>\r\n        :\r\n          <h3>Зарегистрированных пользователей нет!</h3>\r\n        }\r\n\r\n      </div>\r\n    )\r\n  //enf if\r\n}//end render\r\n\r\n} //end class\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state,\r\n    //isAuth: state.isAuth,\r\n    //isRegistr: state.isRegistr\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  //registr;\r\n  return {\r\n    auth: (oldUser) => dispatch(auth(oldUser)),\r\n    //registr: (currentUser) => {dispatch(registr(currentUser)); console.log(store.dispath.type)},\r\n  }\r\n}\r\n\r\n//export  default connect(mapStateToProps,mapDispatchToProps)(FormAuth);\r\n\r\nexport  default FormAuth;","import React from 'react';\r\nimport FormAuth from '../FormAuth/FormAuth';\r\n\r\nconst Home = () => {\r\n    return (\r\n        <FormAuth/>\r\n          /* <FormAuth isAuth={this.state.isAuth}/> */\r\n    )\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport { Form } from 'reactstrap';\r\nimport { validateFields } from '../../Validation';\r\nimport { connect } from 'react-redux';\r\nimport store from '../../store';\r\nimport { auth, registr, editUser } from '../../actions';\r\nimport User from '../User/User';\r\n\r\nconst initialState = {\r\n  username: {\r\n    value: '',\r\n    validateOnChange: false,\r\n    error: ''\r\n  },\r\n\r\n  email: {\r\n    value: '',\r\n    validateOnChange: false,\r\n    error: ''\r\n  },\r\n  password: {\r\n    value: '',\r\n    validateOnChange: false,\r\n    error: ''\r\n  },\r\n  repeatpassword: {\r\n    value: '',\r\n    validateOnChange: false,\r\n    error: ''\r\n  },\r\n\r\n  submitCalled: false,\r\n  allFieldsValidated: false,\r\n  isRegistr: false\r\n};\r\n\r\nclass FormRegistr extends React.Component {\r\n  constructor(props) {\r\n      super(props);\r\n      this.state = initialState;\r\n  }\r\n\r\n     /* handleUserInput = (e) => {\r\n  const name = e.target.name;\r\n  const value = e.target.value;\r\n  this.setState({[name]: value});\r\n} */\r\n\r\n  handleFocusInput = (e) => {\r\n    e.target.removeAttribute('readonly');\r\n  }\r\n/*\r\n * validates the field onBlur if sumbit button is not clicked\r\n * set the validateOnChange to true for that field\r\n * check for error\r\n */\r\n\r\nhandleBlur(validationFunc, evt) {\r\n  const field = evt.target.name;\r\n  // validate onBlur only when validateOnChange for that field is false\r\n  // because if validateOnChange is already true there is no need to validate onBlur\r\n  if (\r\n    this.state[field]['validateOnChange'] === false &&\r\n    this.state.submitCalled === false\r\n  ) {\r\n    this.setState(state => ({\r\n      [field]: {\r\n        ...state[field],\r\n        validateOnChange: true,\r\n        error: validationFunc(state[field].value)\r\n      }\r\n    }));\r\n  }\r\n  return;\r\n}\r\n\r\n/*\r\n * update the value in state for that field\r\n * check for error if validateOnChange is true\r\n */\r\nhandleChange(validationFunc, evt) {\r\n  const field = evt.target.name;\r\n  const fieldVal = evt.target.value;\r\n  this.setState(state => ({\r\n    [field]: {\r\n      ...state[field],\r\n      value: fieldVal,\r\n      error: state[field]['validateOnChange'] ? validationFunc(fieldVal) : ''\r\n    }\r\n  }));\r\n}\r\n\r\nhandleSubmit(evt) {\r\n  evt.preventDefault();\r\n/*\r\n* validate all fields\r\n* check if all fields are valid if yes then submit the Form\r\n* otherwise set errors for the feilds in the state\r\n*/\r\n\r\nconst { username, email, password, repeatpassword, isRegistr } = this.state;\r\nconst usernameError = validateFields.validateUsername(username.value);\r\nconst emailError = validateFields.validateEmail(email.value);\r\nconst passwordError = validateFields.validatePassword(password.value);\r\nconst repeatpasswordError = validateFields.validaterepeatPassword(repeatpassword.value, password.value);\r\n\r\n\r\nif ([usernameError, emailError, passwordError, repeatpasswordError].every(e => e === false)) {\r\n  // no errors submit the form\r\n\r\n  //Сохраняем введенные в форму данные\r\n    const id = `f${(~~(Math.random()*1e8)).toString(16)}`;\r\n    const currentUser = {\r\n      id: id,\r\n      username: username.value,\r\n      email: email.value,\r\n      password: password.value\r\n    };\r\n\r\n    store.dispatch(registr(currentUser));\r\n\r\n    /* const currentLocalStorage= JSON.parse(localStorage.getItem('users'));\r\n    currentLocalStorage.push(currentUser);\r\n    localStorage.setItem('users', JSON.stringify(currentLocalStorage)); */\r\n    \r\n    \r\n   // clear state and show all fields are validated\r\n   this.setState({ ...initialState, allFieldsValidated: true });\r\n   this.showAllFieldsValidated();\r\n}\r\nelse {\r\n // update the state with errors\r\n    this.setState(state => ({\r\n      formname: 'registr',\r\n      titleLink: 'Авторизация',\r\n\r\n      username: {\r\n        ...state.username,\r\n        validateOnChange: true,\r\n        error: usernameError\r\n      },\r\n\r\n      email: {\r\n        ...state.email,\r\n        validateOnChange: true,\r\n        error: emailError\r\n      },\r\n      password: {\r\n        ...state.password,\r\n        validateOnChange: true,\r\n        error: passwordError\r\n      },\r\n      repeatpassword: {\r\n        ...state.repeatpassword,\r\n        validateOnChange: true,\r\n        error: repeatpasswordError\r\n      }\r\n    }));\r\n  }\r\n\r\n}//end handlSubmit\r\n\r\nshowAllFieldsValidated() {\r\n  setTimeout(() => {\r\n    this.setState({ allFieldsValidated: false });\r\n  }, 1500);\r\n}\r\n\r\nrender () {\r\n\r\n  //const local = localStorage.getItem('users');\r\n  //console.dir(local);\r\n  //if(local && JSON.parse(local.length !== 0)) {\r\n   // let users= JSON.parse(localStorage.getItem('users'));\r\n   //console.dir(Object.entries(users));\r\n\r\n    const { username, email, password, repeatpassword, allFieldsValidated } = this.state;\r\n    const {onBtnEditUserClick} = this.props;\r\n\r\n    return (\r\n      \r\n      <div className=\"wrap\">\r\n        <header className=\"App-header \">Регистрация</header>\r\n\r\n        <h2>store {store.getState().length}</h2>\r\n        {store.getState().length == 0 ?\r\n        <div>\r\n            <p className=\"message\">Зарегистрированных пользователей нет </p>\r\n        </div>\r\n        : null }\r\n        \r\n\r\n        <Form method='get' formname=\"registr\"\r\n          className='container col-lg-6 mt-5 border border-dark rounded p-3 js-form' \r\n          onSubmit={e => this.handleSubmit(e)}>\r\n\r\n          <div className=\"form-group\">\r\n          <label htmlFor=\"inputUserName\">Username</label>\r\n          <input \r\n            type='text'\r\n            name='username'\r\n            className='form-control'\r\n            placeholder='Введите ваше имя'\r\n            id='inputUserName'\r\n            value={username.value}\r\n            //onChange={this.handleUserInput}\r\n            onChange={evt =>\r\n              this.handleChange(validateFields.validateUsername, evt)\r\n            }\r\n            onBlur={evt =>\r\n              this.handleBlur(validateFields.validateUsername, evt)\r\n            }\r\n\r\n            onFocus={this.handleFocusInput}\r\n            readOnly='readonly'/>\r\n\r\n            <div className='text-danger'>{username.error}</div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n          <label htmlFor=\"inputEmail\">Email address</label>\r\n          <input\r\n            type='email'\r\n            name='email'\r\n            className='form-control'\r\n            placeholder='Введите ваш Email'\r\n            id='inputEmail'\r\n            value={email.value}\r\n            //onChange={this.handleUserInput}\r\n            onChange={evt =>\r\n              this.handleChange(validateFields.validateEmail, evt)\r\n            }\r\n            onBlur={evt =>\r\n              this.handleBlur(validateFields.validateEmail, evt)\r\n            }\r\n\r\n            onFocus={this.handleFocusInput}\r\n            message={this.state.message}\r\n            readOnly='readonly'/>\r\n\r\n            <div className='text-danger'>{email.error}</div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n          <label htmlFor=\"inputPassword\">Password</label>\r\n          <input\r\n            type='password'\r\n            name='password'\r\n            className='form-control'\r\n            placeholder='Введите ваш пароль'\r\n            id='inputPassword'\r\n            value={password.value}\r\n            onChange={evt =>\r\n              this.handleChange(validateFields.validatePassword, evt)\r\n            }\r\n            onBlur={evt =>\r\n              this.handleBlur(validateFields.validatePassword, evt)\r\n            }/>\r\n\r\n          <div className='text-danger'>{password.error}</div>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n        <label htmlFor=\"inputRepeatPassword\">Repeat Password</label>\r\n        <input \r\n          type='password'\r\n          name='repeatpassword'\r\n          className='form-control'\r\n          placeholder='Повторите пароль'\r\n          id='inputRepeatPassword'\r\n          value={repeatpassword.value}\r\n          //onChange={this.handleUserInput}\r\n          onChange={evt =>\r\n            this.handleChange(validateFields.validaterepeatPassword, evt)\r\n          }\r\n          onBlur={evt =>\r\n            this.handleBlur(validateFields.validaterepeatPassword, evt)\r\n          }\r\n          onFocus={this.handleFocusInput}\r\n          readOnly='readonly'/>\r\n\r\n          <div className='text-danger'>{repeatpassword.error}</div>\r\n          </div>\r\n\r\n          <button\r\n            type='submit'\r\n            name='registr'\r\n            className='btn btn-secondary btn-block'\r\n            onClick={this.submitForm}\r\n            onMouseDown={() => this.setState({ submitCalled: true })}>\r\n              Зарегистрироваться\r\n          </button>\r\n        </Form>\r\n\r\n        <div className=\"card-body\">\r\n        {allFieldsValidated && (\r\n          <p className=\"text-success text-center\">\r\n            Success, All fields are validated\r\n          </p>\r\n        )}\r\n        </div>\r\n      </div>\r\n)\r\n\r\n}\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state,\r\n    //isAuth: state.isAuth,\r\n    //isRegistr: state.isRegistr\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  //registr;\r\n  return {\r\n    //auth: (oldUser) => dispatch(auth(oldUser)),\r\n    registr: (currentUser) => {dispatch(registr(currentUser))},\r\n  }\r\n}\r\n\r\nexport  default connect(mapStateToProps,mapDispatchToProps)(FormRegistr);\r\n\r\n//export  default FormRegistr;","import React from 'react';\r\nimport { Form } from 'reactstrap';\r\nimport { validateFields } from '../../Validation';\r\nimport { connect } from 'react-redux';\r\nimport store from '../../store';\r\nimport { auth, registr, editUser } from '../../actions';\r\nimport User from '../User/User';\r\n\r\nconst initialState = {\r\n  username: {\r\n    value: '',\r\n    validateOnChange: false,\r\n    error: ''\r\n  },\r\n\r\n  email: {\r\n    value: '',\r\n    validateOnChange: false,\r\n    error: ''\r\n  },\r\n  password: {\r\n    value: '',\r\n    validateOnChange: false,\r\n    error: ''\r\n  },\r\n\r\n  submitCalled: false,\r\n  allFieldsValidated: false,\r\n  id: ''\r\n};\r\n\r\nclass FormEdit extends React.Component {\r\n  constructor(props) {\r\n      super(props);\r\n      this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n      //alert('edit');\r\n      let url = window.location.pathname;\r\n      let id = url.slice(-8);\r\n      const currentStore = Object.values(store.getState());\r\n      \r\n      console.dir(currentStore);\r\n      \r\n      const user = currentStore.filter(el => el.id === id);\r\n      console.dir(user);\r\n\r\n      const formElement = document.forms.edit;\r\n     // alert(formElement);\r\n      formElement.elements.username.value = user[0].username;\r\n      formElement.elements.email.value = user[0].email;\r\n      formElement.elements.password.value = user[0].password;\r\n\r\n      this.setState(() => ({\r\n        username: {\r\n          value :  user[0].username,\r\n        },\r\n        email: {\r\n          value :  user[0].email,\r\n        },\r\n        password: {\r\n          value :  user[0].password,\r\n        },\r\n        id: id\r\n      }));\r\n      //return id;\r\n  }\r\n\r\n     /* handleUserInput = (e) => {\r\n  const name = e.target.name;\r\n  const value = e.target.value;\r\n  this.setState({[name]: value});\r\n} */\r\n\r\n  handleFocusInput = (e) => {\r\n    e.target.removeAttribute('readonly');\r\n  }\r\n/*\r\n * validates the field onBlur if sumbit button is not clicked\r\n * set the validateOnChange to true for that field\r\n * check for error\r\n */\r\n\r\nhandleBlur(validationFunc, evt) {\r\n  const field = evt.target.name;\r\n  // validate onBlur only when validateOnChange for that field is false\r\n  // because if validateOnChange is already true there is no need to validate onBlur\r\n  if (\r\n    this.state[field]['validateOnChange'] === false &&\r\n    this.state.submitCalled === false\r\n  ) {\r\n    this.setState(state => ({\r\n      [field]: {\r\n        ...state[field],\r\n        validateOnChange: true,\r\n        error: validationFunc(state[field].value)\r\n      }\r\n    }));\r\n  }\r\n  return;\r\n}\r\n\r\n/*\r\n * update the value in state for that field\r\n * check for error if validateOnChange is true\r\n */\r\nhandleChange(validationFunc, evt) {\r\n  const field = evt.target.name;\r\n  const fieldVal = evt.target.value;\r\n  this.setState(state => ({\r\n    [field]: {\r\n      ...state[field],\r\n      value: fieldVal,\r\n      error: state[field]['validateOnChange'] ? validationFunc(fieldVal) : ''\r\n    }\r\n  }));\r\n}\r\n\r\nhandleSubmit(evt) {\r\n  //alert('edit');\r\n  evt.preventDefault();\r\n/* console.dir(this.state.username.value);\r\nconsole.dir(this.state.users);\r\nconsole.log(typeof(this.user)); */\r\n\r\n//  store.dispatch(editUser(user));  работает, но обнуляет хранилище и стор\r\n//debugger;\r\n/*\r\n* validate all fields\r\n* check if all fields are valid if yes then submit the Form\r\n* otherwise set errors for the feilds in the state\r\n*/\r\n\r\n\r\n\r\n\r\nconst { username, email, password } = this.state;\r\nconst usernameError = validateFields.validateUsername(username.value);\r\nconst emailError = validateFields.validateEmail(email.value);\r\nconst passwordError = validateFields.validatePassword(password.value);\r\n//const id = \r\n\r\n\r\nif ([usernameError, emailError, passwordError].every(e => e === false)) {\r\n  // no errors submit the form\r\n\r\n  //Сохраняем введенные в форму данные\r\n     let id = this.state.id;\r\n    const currentUser = {\r\n      id: id,\r\n      username: username.value,\r\n      email: email.value,\r\n      password: password.value\r\n    };\r\n\r\n    const currentState = store.getState();\r\n   \r\n\r\n    const newState = Object.values(currentState).map(el => {\r\n      if (el.id === currentUser.id) {\r\n        return currentUser;\r\n      }\r\n      return el;\r\n    });\r\n    \r\n    store.dispatch(editUser(newState));\r\n    debugger;\r\n      window.location.assign(`/MyAccount/${this.state.id}`);\r\n    \r\n    \r\n\r\n    //localStorage.setItem('users', JSON.stringify(currentUser));\r\n    \r\n   // clear state and show all fields are validated\r\n   this.setState({ ...initialState, allFieldsValidated: true });\r\n   this.showAllFieldsValidated();\r\n}\r\nelse {\r\n // update the state with errors\r\n    this.setState(state => ({\r\n      formname: 'edit',\r\n      titleLink: 'Редактирование профиля',\r\n\r\n      username: {\r\n        ...state.username,\r\n        validateOnChange: true,\r\n        error: usernameError\r\n      },\r\n\r\n      email: {\r\n        ...state.email,\r\n        validateOnChange: true,\r\n        error: emailError\r\n      },\r\n      password: {\r\n        ...state.password,\r\n        validateOnChange: true,\r\n        error: passwordError\r\n      }\r\n    }));\r\n  }\r\n\r\n}//end handlSubmit\r\n\r\nshowAllFieldsValidated() {\r\n  setTimeout(() => {\r\n    this.setState({ allFieldsValidated: false });\r\n  }, 1500);\r\n}\r\n\r\nrender () {\r\n  const { username, email, password, allFieldsValidated } = this.state;\r\n\r\n  return (\r\n    <div className=\"wrap\">\r\n      <header className=\"App-header \">Регистрация</header>\r\n\r\n      <h2>{store.getState().length}</h2>\r\n\r\n      <Form method='get' formname=\"edit\" name=\"edit\"\r\n    className='container col-lg-6 mt-5 border border-dark rounded p-3 js-form' \r\n    onSubmit={e => this.handleSubmit(e)}>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"inputUserName\">Username</label>\r\n        <input \r\n          type='text'\r\n          name='username'\r\n          className='form-control'\r\n          placeholder='Введите ваше имя'\r\n          id='inputUserName'\r\n          value={username.value}\r\n          //onChange={this.handleUserInput}\r\n          onChange={evt =>\r\n            this.handleChange(validateFields.validateUsername, evt)\r\n          }\r\n          onBlur={evt =>\r\n            this.handleBlur(validateFields.validateUsername, evt)\r\n          }\r\n\r\n          onFocus={this.handleFocusInput}\r\n          //message={this.state.message}\r\n          readOnly='readonly'/>\r\n\r\n          <div className='text-danger'>{username.error}</div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"inputEmail\">Email address</label>\r\n        <input \r\n          type='email'\r\n          name='email'\r\n          className='form-control'\r\n          placeholder='Введите ваш Email'\r\n          id='inputEmail'\r\n          value={email.value}\r\n          //onChange={this.handleUserInput}\r\n          onChange={evt =>\r\n            this.handleChange(validateFields.validateEmail, evt)\r\n          }\r\n          onBlur={evt =>\r\n            this.handleBlur(validateFields.validateEmail, evt)\r\n          }\r\n\r\n          onFocus={this.handleFocusInput}\r\n          message={this.state.message}\r\n          readOnly='readonly'/>\r\n\r\n          <div className='text-danger'>{email.error}</div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"inputPassword\">Password</label>\r\n        <input \r\n          type='password'\r\n          name='password'\r\n          className='form-control'\r\n          placeholder='Введите ваш пароль'\r\n          id='inputPassword'\r\n          value={password.value}\r\n          onChange={evt =>\r\n            this.handleChange(validateFields.validatePassword, evt)\r\n          }\r\n          onBlur={evt =>\r\n            this.handleBlur(validateFields.validatePassword, evt)\r\n          }/>\r\n\r\n        <div className='text-danger'>{password.error}</div>\r\n      </div>\r\n\r\n      \r\n\r\n      <button \r\n        type='submit'\r\n        name='save'\r\n        className='btn btn-secondary btn-block'\r\n        onClick={this.submitForm}\r\n        onMouseDown={() => this.setState({ submitCalled: true })}>\r\n          Сохранить\r\n      </button>\r\n    </Form>\r\n\r\n      <div className=\"card-body\">\r\n        {allFieldsValidated && ( \r\n          <p className=\"text-success text-center\">\r\n            Success, All fields are validated\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      <hr/>\r\n\r\n      {/* {\r\n        <ul className=\"users-list\">\r\n          {\r\n            users.map((user) => {\r\n\r\n              return (\r\n\r\n                <User\r\n                  key = {user.id}\r\n                  id = {user.id}\r\n                  username = {user.username}\r\n                  email = {user.email}\r\n                  password= {user.password}\r\n                  onBtnEditUsersClick = { () => this.props.editUser(user)}\r\n                />\r\n              )\r\n            })\r\n          }\r\n      </ul>\r\n      } */}\r\n\r\n    </div>\r\n  )\r\n}//end render\r\n\r\n} //end class\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state,\r\n    //isAuth: state.isAuth,\r\n    //isRegistr: state.isRegistr\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  //registr;\r\n  return {\r\n    editUser: (newUsers) => dispatch(auth(newUsers)),\r\n    //registr: (currentUser) => {dispatch(registr(currentUser)); console.log(store.dispath.type)},\r\n  }\r\n}\r\n\r\nexport  default connect(mapStateToProps,mapDispatchToProps)(FormEdit);\r\n\r\n//export  default FormEdit;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport store from '../../store';\r\nimport { editUser } from '../../actions';\r\n\r\n\r\n   //console.log('1' + editData);\r\n   let url = window.location.pathname;\r\n    let id = url.slice(-8);\r\n    \r\n    \r\n   \r\nconst myAccount = (props) => {\r\n    /* function componentWillUnmount() {\r\n        alert(1);\r\n            if(!localStorage.getItem(\"users\")){\r\n                localStorage.setItem(\"users\", this.props.users);\r\n            }\r\n        } */\r\n\r\n    const {editData, openModal,handleSubmit} = props;\r\n        let url = window.location.pathname;\r\n        let id = url.slice(-8);\r\n\r\n        \r\n     alert(id);\r\n     const currentLocalStorage = Object.values(JSON.parse(localStorage.getItem('users')));\r\n  console.dir(currentLocalStorage);\r\n  //Ищем пользователя по id\r\n    const user = currentLocalStorage.filter((el) =>  { console.dir(el); return el['id'] === id});\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1>Личный кабинет</h1>\r\n            <div>Мои учетные данные</div>\r\n            <div>id: {user[0].id}</div>\r\n            <div>username: {user[0].username}</div>\r\n            <div>email: {user[0].email}</div>\r\n            <div>password: {user[0].password}</div>\r\n\r\n            <button type=\"button\" onClick={() => {window.location.assign(`/FormEdit/${user[0].id}`);}}>Редактировать данные</button>\r\n            <a href=\"/\">Выйти из аккаунта</a>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default myAccount;","import React from 'react';\n//import ReactDom from 'react-dom';\nimport { Route, NavLink, Switch, Redirect } from 'react-router-dom';\n\n\n//import store from 'store';\n\nimport { connect } from 'react-redux';\n\nimport './App.css';\n\n\nimport Header from './components/Header/Header';\nimport Home from './components/Home/Home';\n\nimport FormAuth from './components/FormAuth/FormAuth';\nimport FormRegistr from './components/FormRegistr/FormRegistr';\nimport FormEdit from './components/FormEdit/FormEdit';\nimport User from './components/User/User';\nimport MyAccount from './components/MyAccount/MyAccount';\n\n\nimport { auth, registr, editUser } from './actions';\nimport store from './store';\n\nclass App extends React.Component {\n  state =  {\n    formName: \"auth\",\n    isAuth: false,\n    users: []\n  }\n\n  componentDidMount() {\n    const local = localStorage.getItem('users');\n    if(local && JSON.parse(local).length !== 0) {\n      this.state.users =  Object.assign(JSON.parse(localStorage.getItem('users')));\n    }\n  }\n\n  editData() {\n    alert('edit');\n    //store.dispatch(editUser(currentUser));\n  }\n\n  onBtnEditUserClick() {\n    console.log('editUserClick');\n  }\n\n  render () {\n   \n    return (\n      <div className=\"App pt-3\">\n        <Header/>\n        <NavLink to=\"/FormRegistr\">Регистрация</NavLink>\n        <a href=\"/FormRegistr\">Регистрация</a>\n        <Switch>\n          <Route key=\"Home\" exact path='/' component={ Home }>\n          {/* { store.getState().isAuth ? <Redirect from=\"/\" to=\"/MyAccount:id\" component={ MyAccount } /> : null} */}\n            <Home/>\n\n            <NavLink to=\"/FormRegistr\">Регистрация</NavLink>\n          </Route>\n\n          <Route key=\"FormRegistr\" exact path='/FormRegistr' component={ FormRegistr }>\n            {this.state.users.length !== 0 ?\n            null\n            :\n            <ul className=\"comments-list\">{'list' + this.state.users.length}\n              {\n                this.state.users.map((user) => { \n                  return (\n                     <User\n                       key = {user.id}\n                       id = {user.id}\n                       username = {user.name}\n                       email= {user.email}\n                       password = {user.password}\n                       // onBtnDeleteCommentClick = { () => this.props.removeComment(comment)}\n                     />\n                   )\n                 })\n               }\n           </ul>\n           \n           }\n\n          <FormRegistr handleSubmit={this.handleSubmit}/>\n\n            <NavLink to=\"/\" onClick={()=>{this.setState({formName : 'auth'})}}>Авторизация</NavLink>\n          </Route>\n\n          <Route key=\"FormEdit\" exact path='/FormEdit/:id' component={ FormEdit }>\n            <FormEdit/>\n          </Route>\n\n          <Route key=\"MyAccount\" exact path='/MyAccount/:id' component={ MyAccount }>\n            <MyAccount/>\n          </Route>\n        </Switch>\n      </div>\n    );\n  };\n\n}\nconst mapStateToProps = (state) => {\n  return {\n    users: state,\n    //isAuth: false,\n    //isRegistr: state.isRegistr */\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    registr: (newUser) => dispatch(registr(newUser)),\n    auth: (oldUser) => dispatch(registr(oldUser)),\n   // registr,\n    editUser: (id, state) => dispatch(editUser(id, state))\n}\n}\n\n\nexport default connect(mapStateToProps,mapDispatchToProps) (App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\nimport store from './store';\n\nimport 'bootstrap/dist/css/bootstrap.css';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </Provider>\n    \n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}