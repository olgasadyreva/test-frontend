(this.webpackJsonpauth=this.webpackJsonpauth||[]).push([[0],{143:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(1),s=t.n(r),l=t(23),i=t.n(l),o=t(13),c=t(14),u=t(19),d=t(18),m=t(6),h=t(17),v=(t(61),t(62),t(12)),b=t(3),j=t(144),p=t(15),O=t.n(p),f=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"validateUsername",value:function(e){return O.a.isEmpty(e)?"\u041f\u043e\u043b\u0435 username \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f":!O.a.isLength(e,{min:3})&&"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."}},{key:"validateEmail",value:function(e){return O.a.isEmpty(e)?"\u041f\u043e\u043b\u0435 \u0435mail \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f":!O.a.isEmail(e)&&"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"}},{key:"validatePassword",value:function(e){return O.a.isEmpty(e)?"\u041f\u043e\u043b\u0435 \u0440assword \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f":!O.a.isLength(e,{min:3})&&"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}},{key:"validaterepeatPassword",value:function(e,a){return O.a.isEmpty(e)?"\u041f\u043e\u043b\u0435 repeat \u0440assword \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f":O.a.isLength(e,{min:3})?a!==e&&"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442":"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}]),e}()),g=t(25),w=t(51),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"REGISTR":return[].concat(Object(w.a)(e),[{id:a.payload.id,username:a.payload.username,email:a.payload.email,password:a.payload.password}]);case"EDIT USER":return a.payload;default:return e}},y=localStorage.getItem("users")?JSON.parse(localStorage.getItem("users")):[],C=Object(g.b)(x,y);C.subscribe((function(){localStorage.setItem("users",JSON.stringify(C.getState()))}));var N=C,S=function(e){var a=e.id,t=e.username,r=e.email,s=e.password;return Object(n.jsxs)("div",{className:"user-item d-flex justify-content-center overflow-scroll w-100",children:[Object(n.jsx)("div",{className:"name col-3 border border-primary p-2 text-break",children:t}),Object(n.jsx)("div",{className:"text col-5 border border-primary p-2 text-break",children:r}),Object(n.jsx)("div",{className:"datetime col-4 border border-primary p-2 text-break",children:s})]},a)},F=t(16),k={email:{value:"",validateOnChange:!1,error:""},password:{value:"",validateOnChange:!1,error:""},submitCalled:!1,allFieldsValidated:!1},E=(s.a.Component,function(e){return{type:"REGISTR",payload:e}}),P=function(e){return{type:"EDIT USER",payload:e}},B={username:{value:"",validateOnChange:!1,error:""},email:{value:"",validateOnChange:!1,error:""},password:{value:"",validateOnChange:!1,error:""},repeatpassword:{value:"",validateOnChange:!1,error:""},submitCalled:!1,allFieldsValidated:!1},U=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state=B,n}return Object(c.a)(t,[{key:"handleBlur",value:function(e,a){var t=a.target.name;!1===this.state[t].validateOnChange&&!1===this.state.submitCalled&&this.setState((function(a){return Object(v.a)({},t,Object(b.a)(Object(b.a)({},a[t]),{},{validateOnChange:!0,error:e(a[t].value)}))}))}},{key:"handleChange",value:function(e,a){var t=a.target.name,n=a.target.value;this.setState((function(a){return Object(v.a)({},t,Object(b.a)(Object(b.a)({},a[t]),{},{value:n,error:a[t].validateOnChange?e(n):""}))}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=this.state,t=a.username,n=a.email,r=a.password,s=a.repeatpassword,l=f.validateUsername(t.value),i=f.validateEmail(n.value),o=f.validatePassword(r.value),c=f.validaterepeatPassword(s.value,r.value);if([l,i,o,c].every((function(e){return!1===e}))){var u={id:"f".concat((~~(1e8*Math.random())).toString(16)),username:t.value,email:n.value,password:r.value};N.dispatch(E(u)),this.setState(Object(b.a)(Object(b.a)({},B),{},{allFieldsValidated:!0})),this.showAllFieldsValidated()}else this.setState((function(e){return{titleLink:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",username:Object(b.a)(Object(b.a)({},e.username),{},{validateOnChange:!0,error:l}),email:Object(b.a)(Object(b.a)({},e.email),{},{validateOnChange:!0,error:i}),password:Object(b.a)(Object(b.a)({},e.password),{},{validateOnChange:!0,error:o}),repeatpassword:Object(b.a)(Object(b.a)({},e.repeatpassword),{},{validateOnChange:!0,error:c})}}))}},{key:"showAllFieldsValidated",value:function(){var e=this;setTimeout((function(){e.setState({allFieldsValidated:!1})}),1500)}},{key:"render",value:function(){var e=this,a=this.state,t=a.username,r=a.email,s=a.password,l=a.repeatpassword,i=a.allFieldsValidated;return Object(n.jsxs)("div",{className:"wrap p-3",children:[Object(n.jsx)("h3",{className:"mb-4",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(n.jsxs)(j.a,{method:"post",name:"registr",className:"container col-lg-6 mt-5 border border-dark rounded p-3 js-form",onSubmit:function(a){return e.handleSubmit(a)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"inputUserName",children:"Username"}),Object(n.jsx)("input",{type:"text",name:"username",className:"form-control",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f",id:"inputUserName",value:t.value,onChange:function(a){return e.handleChange(f.validateUsername,a)},onBlur:function(a){return e.handleBlur(f.validateUsername,a)},onFocus:this.handleFocusInput}),Object(n.jsx)("div",{className:"text-danger",children:t.error})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"inputEmail",children:"Email address"}),Object(n.jsx)("input",{type:"email",name:"email",className:"form-control",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 Email",id:"inputEmail",value:r.value,onChange:function(a){return e.handleChange(f.validateEmail,a)},onBlur:function(a){return e.handleBlur(f.validateEmail,a)},onFocus:this.handleFocusInput}),Object(n.jsx)("div",{className:"text-danger",children:r.error})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"inputPassword",children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",id:"inputPassword",value:s.value,onChange:function(a){return e.handleChange(f.validatePassword,a)},onBlur:function(a){return e.handleBlur(f.validatePassword,a)}}),Object(n.jsx)("div",{className:"text-danger",children:s.error})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"inputRepeatPassword",children:"Repeat Password"}),Object(n.jsx)("input",{type:"password",name:"repeatpassword",className:"form-control",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",id:"inputRepeatPassword",value:l.value,onChange:function(a){return e.handleChange(f.validaterepeatPassword,a)},onBlur:function(a){return e.handleBlur(f.validaterepeatPassword,a)},onFocus:this.handleFocusInput}),Object(n.jsx)("div",{className:"text-danger",children:l.error})]}),Object(n.jsx)("button",{type:"submit",name:"registr",className:"btn btn-primary btn-block m-auto",onClick:this.submitForm,onMouseDown:function(){return e.setState({submitCalled:!0})},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(n.jsx)("div",{className:"card-body",children:i&&Object(n.jsx)("p",{className:"text-success text-center",children:"\u0412\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f!"})})]})}}]),t}(s.a.Component),I=(Object(h.b)((function(e){return{users:e}}),(function(e){return{registr:function(a){e(E(a))}}}))(U),{username:{value:"",validateOnChange:!1,error:""},email:{value:"",validateOnChange:!1,error:""},password:{value:"",validateOnChange:!1,error:""},submitCalled:!1,allFieldsValidated:!1,id:""}),V=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state=I,n}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/");e=e[e.length-1];var a=Object.values(N.getState()).filter((function(a){return a.id===e})),t=document.forms.edit;t.elements.username.value=a[0].username,t.elements.email.value=a[0].email,t.elements.password.value=a[0].password,this.setState((function(){return{username:{value:a[0].username},email:{value:a[0].email},password:{value:a[0].password},id:e}}))}},{key:"handleBlur",value:function(e,a){var t=a.target.name;!1===this.state[t].validateOnChange&&!1===this.state.submitCalled&&this.setState((function(a){return Object(v.a)({},t,Object(b.a)(Object(b.a)({},a[t]),{},{validateOnChange:!0,error:e(a[t].value)}))}))}},{key:"handleChange",value:function(e,a){var t=a.target.name,n=a.target.value;this.setState((function(a){return Object(v.a)({},t,Object(b.a)(Object(b.a)({},a[t]),{},{value:n,error:a[t].validateOnChange?e(n):""}))}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=this.state,t=a.username,n=a.email,r=a.password,s=f.validateUsername(t.value),l=f.validateEmail(n.value),i=f.validatePassword(r.value);if([s,l,i].every((function(e){return!1===e}))){var o={id:this.state.id,username:t.value,email:n.value,password:r.value},c=N.getState(),u=Object.values(c).map((function(e){return e.id===o.id?o:e}));N.dispatch(P(u)),window.location.assign("/MyAccount/".concat(this.state.id)),this.setState(Object(b.a)(Object(b.a)({},I),{},{allFieldsValidated:!0})),this.showAllFieldsValidated()}else this.setState((function(e){return{titleLink:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",username:Object(b.a)(Object(b.a)({},e.username),{},{validateOnChange:!0,error:s}),email:Object(b.a)(Object(b.a)({},e.email),{},{validateOnChange:!0,error:l}),password:Object(b.a)(Object(b.a)({},e.password),{},{validateOnChange:!0,error:i})}}))}},{key:"showAllFieldsValidated",value:function(){var e=this;setTimeout((function(){e.setState({allFieldsValidated:!1})}),1500)}},{key:"cancelEdit",value:function(){window.history.back()}},{key:"render",value:function(){var e=this,a=this.state,t=a.username,r=a.email,s=a.password,l=a.allFieldsValidated;return Object(n.jsxs)("div",{className:"wrap p-3",children:[Object(n.jsx)("h3",{className:"mb-4",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}),Object(n.jsxs)(j.a,{method:"post",name:"edit",className:"container col-lg-6 mt-5 border border-dark rounded p-3 js-form",onSubmit:function(a){return e.handleSubmit(a)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"inputUserName",children:"Username"}),Object(n.jsx)("input",{type:"text",name:"username",className:"form-control",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f",id:"inputUserName",value:t.value,onChange:function(a){return e.handleChange(f.validateUsername,a)},onBlur:function(a){return e.handleBlur(f.validateUsername,a)},onFocus:this.handleFocusInput}),Object(n.jsx)("div",{className:"text-danger",children:t.error})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"inputEmail",children:"Email address"}),Object(n.jsx)("input",{type:"email",name:"email",className:"form-control",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 Email",id:"inputEmail",value:r.value,onChange:function(a){return e.handleChange(f.validateEmail,a)},onBlur:function(a){return e.handleBlur(f.validateEmail,a)},onFocus:this.handleFocusInput}),Object(n.jsx)("div",{className:"text-danger",children:r.error})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"inputPassword",children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",id:"inputPassword",value:s.value,onChange:function(a){return e.handleChange(f.validatePassword,a)},onBlur:function(a){return e.handleBlur(f.validatePassword,a)}}),Object(n.jsx)("div",{className:"text-danger",children:s.error})]}),Object(n.jsx)("button",{type:"submit",name:"save",className:"btn btn-primary btn-block m-auto",onClick:this.submitForm,onMouseDown:function(){return e.setState({submitCalled:!0})},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(n.jsx)("button",{type:"button",name:"cancel",className:"btn btn-secondary btn-block",onClick:this.cancelEdit,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]}),Object(n.jsx)("div",{className:"card-body",children:l&&Object(n.jsx)("p",{className:"text-success text-center",children:"\u0412\u0430\u0448\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b!"})}),Object(n.jsx)("hr",{})]})}}]),t}(s.a.Component),D=(Object(h.b)((function(e){return{users:e}}),(function(){return{editUser:P}}))(V),window.location.pathname.split("/"));D=D[D.length-1];var R=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={users:[]},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("users");e&&0!==JSON.parse(e).length&&this.setState({users:Object.assign(JSON.parse(localStorage.getItem("users")))})}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App pt-5",children:["gfhgjgjgxhjhgx",Object(n.jsx)(m.b,{})]})}}]),t}(s.a.Component),T=Object(h.b)((function(e){return{users:e}}),(function(e){return{registr:function(a){return e(E(a))},auth:function(a){return e(E(a))},editUser:function(a,t){return e(P(a))}}}))(R),A=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,145)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,s=a.getLCP,l=a.getTTFB;t(e),n(e),r(e),s(e),l(e)}))};t(142),F.a.hashHistory;i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(h.a,{store:N,children:Object(n.jsx)(F.a,{children:Object(n.jsx)(T,{})})})}),document.getElementById("root")),A()},61:function(e,a,t){},62:function(e,a,t){}},[[143,1,2]]]);
//# sourceMappingURL=main.fb665711.chunk.js.map